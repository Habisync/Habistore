import{r as d,j as v,c as re,g as ne,i as Ne,L as fe,f as Je,H as Ke}from"./components-DpluEorh.js";import{f as N}from"./flatten-connection-BTqmuHGw.js";import{u as Ye,d as Xe}from"./ShopifyProvider-DWJBKkbi.js";const ze="modulepreload",Ze=function(e){return"https://cdn.shopify.com/oxygen-v2/42302/36645/76971/1696891/"+e},he={},Qe=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(l=>Promise.resolve(l).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=o(r.map(c=>{if(c=Ze(c),c in he)return;he[c]=!0;const l=c.endsWith(".css"),p=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":ze,l||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),l)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return n.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},D="_shopify_y",L="_shopify_s";var et=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function tt(e){let t={},r,a,n=0,i=e.split(/;\s*/g),o,s;for(;n<i.length;n++)if(a=i[n],r=a.indexOf("="),~r){if(o=a.substring(0,r++).trim(),s=a.substring(r).trim(),s[0]==='"'&&(s=s.substring(1,s.length-1)),~s.indexOf("%"))try{s=decodeURIComponent(s)}catch{}et.has(a=o.toLowerCase())?a==="expires"?t.expires=new Date(s):a==="max-age"?t.maxage=+s:t[a]=s:t[o]=s}else(o=a.trim().toLowerCase())&&(o==="httponly"||o==="secure")&&(t[o]=!0);return t}function rt(e,t,r={}){let a=e+"="+encodeURIComponent(t);return r.expires&&(a+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(a+="; Max-Age="+(r.maxage|0)),r.domain&&(a+="; Domain="+r.domain),r.path&&(a+="; Path="+r.path),r.samesite&&(a+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(a+="; Secure"),r.httponly&&(a+="; HttpOnly"),a}const ge="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function Y(){let e="";try{const t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let a=0;e=ge.replace(/[x]/g,n=>{const i=r[a]%16,o=n==="x"?i:i&3|8;return a++,o.toString(16)}).toUpperCase()}catch{e=ge.replace(/[x]/g,r=>{const a=Math.random()*16|0;return(r==="x"?a:a&3|8).toString(16)}).toUpperCase()}return`${nt()}-${e}`}function nt(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function je(e){const t=tt(e);return{[D]:t[D]||"",[L]:t[L]||""}}const E={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},O={collection:"collection",product:"product",search:"search"},ot={headless:"headless"},me={hydrogen:"6167201",headless:"12875497473"};function I(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function _(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:r,searchParams:a,pathname:n,hash:i}=new URL(e),o=n.split("/"),s=o[o.length-1],u=o[o.length-2];return!s||!u?t:{id:`${s}${r}${i}`||"",resource:u??null,resourceId:s||null,search:r,searchParams:a,hash:i}}catch{return t}}function P(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,a])=>{a&&(t[r]=a)}),t)}function at(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const it="trekkie_storefront_page_view/1.4",st="myshopify.dev";function ye(e){const t=e,{id:r,resource:a}=_(t.resourceId),n=a?a.toLowerCase():void 0;return[I(it,P({pageType:t.pageType,customerId:parseInt(_(t.customerId).id||"0"),resourceType:n,resourceId:parseInt(r)},ct(t)))]}function ct(e){return{appClientId:e.shopifySalesChannel?me[e.shopifySalesChannel]:me.headless,isMerchantRequest:ut(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:Y(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(_(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function ut(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(st)!==-1||t==="localhost"}const lt="2025.1.3",S="custom_storefront_customer_tracking/1.2",Ve="page_rendered",Ue="collection_page_rendered",$e="product_page_rendered",dt="product_added_to_cart",Me="search_submitted";function V(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(_(e.customerId).id||"0")}}function pt(e){const t=e,r=V(t),a=t.pageType,n=[];switch(n.push(I(S,P({event_name:Ve,...r},b(t)))),a){case O.collection:n.push(I(S,P({event_name:Ue,...r,collection_name:t.collectionHandle,collection_id:parseInt(_(t.collectionId).id)},b(t))));break;case O.product:n.push(I(S,P({event_name:$e,...r,products:oe(t.products),total_value:t.totalValue},b(t))));break;case O.search:n.push(I(S,P({event_name:Me,...r,search_string:t.searchString},b(t))));break}return n}function ft(e){const t=e,r=V(t);return[I(S,P({event_name:Ve,...r},b(t)))]}function ht(e){const t=e,r=V(t);return[I(S,P({event_name:Ue,...r,collection_name:t.collectionHandle,collection_id:parseInt(_(t.collectionId).id)},b(t)))]}function gt(e){const t=e,r=V(t);return[I(S,P({event_name:$e,...r,products:oe(t.products),total_value:t.totalValue},b(t)))]}function mt(e){const t=e,r=V(t);return[I(S,P({event_name:Me,...r,search_string:t.searchString},b(t)))]}function yt(e){const t=e,r=_(t.cartId);return[I(S,P({event_name:dt,customerId:t.customerId,cart_token:r!=null&&r.id?`${r.id}`:null,total_value:t.totalValue,products:oe(t.products),customer_id:parseInt(_(t.customerId).id||"0")},b(t)))]}function b(e){return{source:e.shopifySalesChannel||ot.headless,asset_version_id:e.assetVersionId||lt,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:Y(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(_(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function oe(e){return e?e.map(t=>{const r=P({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(_(t.productGid).id),variant_id:parseInt(_(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function U(e,t){const{eventName:r,payload:a}=e;if(!a.hasUserConsent)return Promise.resolve();let n=[];const i=a;return r===E.PAGE_VIEW?n=n.concat(ye(i),pt(i)):r===E.ADD_TO_CART?n=n.concat(yt(a)):r===E.PAGE_VIEW_2?n=n.concat(ye(i),ft(i)):r===E.COLLECTION_VIEW?n=n.concat(ht(i)):r===E.PRODUCT_VIEW?n=n.concat(gt(i)):r===E.SEARCH_VIEW&&(n=n.concat(mt(i))),n.length?wt(n,t):Promise.resolve()}function vt(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const ve="sendShopifyAnalytics request is unsuccessful";function wt(e,t){if(vt())return Promise.resolve();const r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(a=>{if(!a.ok)throw new Error("Response failed");return a.text()}).then(a=>{a&&JSON.parse(a).result.forEach(i=>{i.status!==200&&console.error(ve,`

`,i.message)})}).catch(a=>{console.error(ve,a)})}catch{return Promise.resolve()}}function _t(){if(at("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=Ct(),r=je(document.cookie);return{uniqueToken:r[D],visitToken:r[L],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function Et(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function Pt(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function Ct(){try{let e="PerformanceNavigationTiming",t=Et();return t||(t=Pt(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}const we={};function It(e,t){const r=we[e];if(r)return r;const a=new Promise((n,i)=>{const o=document.createElement("script");t!=null&&t.module?o.type="module":o.type="text/javascript",o.src=e,o.onload=()=>{n(!0)},o.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(o):document.body.appendChild(o);const s=t==null?void 0:t.attributes;s&&Object.keys(s).forEach(u=>{o.setAttribute(u,s[u])})});return we[e]=a,a}function z(e,t){const[r,a]=d.useState("loading");return d.useEffect(()=>{It(e,t).then(()=>a("done")).catch(()=>a("error"))},[e]),r}const St="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function bt(e){return e==="headless"||e==="hydrogen"}function At({channel:e,variantIds:t,className:r,variantIdsAndQuantities:a,width:n,storeDomain:i}){const o=Ye(),s=i||(o==null?void 0:o.storeDomain),u=z(St);let c=[],l;if(!s||s===Xe.storeDomain)throw new Error(kt);if(t&&a)throw new Error(xt);if(!t&&!a)throw new Error(_e);if(e)if(bt(e))l=e;else throw new Error(Dt);if(t)c=t.reduce((f,h)=>{const m=_(h).id;return m&&f.push(m),f},[]);else if(a)c=a.reduce((f,h)=>{const m=_(h==null?void 0:h.id).id;return m&&f.push(`${m}:${(h==null?void 0:h.quantity)??1}`),f},[]);else throw new Error(_e);if(c.length===0)throw new Error(Tt);const p=n?{"--shop-pay-button-width":n}:void 0;return v.jsx("div",{className:r,style:p,children:u==="done"&&v.jsx("shop-pay-button",{...l?{channel:l}:{},"store-url":s,variants:c.join(",")})})}const kt='You must pass a "storeDomain" prop to the "ShopPayButton" component, or wrap it in a "ShopifyProvider" component.',Tt='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',_e='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',xt="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component",Dt='Invalid channel attribution value. Must be either "headless" or "hydrogen"',Lt=60*60*24*360*1,Ot=60*30;function Rt(e){const{hasUserConsent:t=!1,domain:r="",checkoutDomain:a=""}=e||{};d.useEffect(()=>{const n=je(document.cookie);let i=r||window.document.location.host;if(a){const s=a.split(".").reverse(),u=i.split(".").reverse(),c=[];s.forEach((l,p)=>{l===u[p]&&c.push(l)}),i=c.reverse().join(".")}/^localhost/.test(i)&&(i="");const o=i?/^\./.test(i)?i:`.${i}`:"";t?(B(D,n[D]||Y(),Lt,o),B(L,n[L]||Y(),Ot,o)):(B(D,"",0,o),B(L,"",0,o))},[e,t,r,a])}function B(e,t,r,a){document.cookie=rt(e,t,{maxage:r,domain:a,samesite:"Lax",path:"/"})}function $(e){let{type:t,data:r={},customData:a}=e,n=ne(),{publish:i,cart:o,prevCart:s,shop:u,customData:c}=Z(),l=n.pathname+n.search,p={...r,customData:{...c,...a},cart:o,prevCart:s,shop:u};return d.useEffect(()=>{u!=null&&u.shopId&&(p={...p,url:window.location.href},i(t,p))},[i,l,u==null?void 0:u.shopId]),null}function Nt(e){return v.jsx($,{...e,type:"page_viewed"})}function jt(e){return v.jsx($,{...e,type:"product_viewed"})}function Vt(e){return v.jsx($,{...e,type:"collection_viewed"})}function Ut(e){return v.jsx($,{...e,type:"cart_viewed"})}function $t(e){return v.jsx($,{...e,type:"search_viewed"})}var C={PAGE_VIEWED:"page_viewed",PRODUCT_VIEWED:"product_viewed",COLLECTION_VIEWED:"collection_viewed",CART_VIEWED:"cart_viewed",SEARCH_VIEWED:"search_viewed",PRODUCT_ADD_TO_CART:"product_added_to_cart"},Mt="https://cdn.shopify.com/shopifycloud/consent-tracking-api/v0.1/consent-tracking-api.js",Bt="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js";function Q(e){console.error(`[h2:error:useCustomerPrivacy] Unable to setup Customer Privacy API: Missing consent.${e} configuration.`)}function Wt(e){let{withPrivacyBanner:t=!1,onVisitorConsentCollected:r,onReady:a,...n}=e;z(t?Bt:Mt,{attributes:{id:"customer-privacy-api"}});let{observing:i,setLoaded:o}=qt({withPrivacyBanner:t,onLoaded:a}),s=d.useMemo(()=>{let{checkoutDomain:c,storefrontAccessToken:l}=n;return c||Q("checkoutDomain"),l||Q("storefrontAccessToken"),(l.startsWith("shpat_")||l.length!==32)&&console.error("[h2:error:useCustomerPrivacy] It looks like you passed a private access token, make sure to use the public token"),{checkoutRootDomain:c,storefrontAccessToken:l,storefrontRootDomain:Ce(c),country:n.country,locale:n.locale}},[n,Ce,Q]);d.useEffect(()=>{let c=l=>{r&&r(l.detail)};return document.addEventListener("visitorConsentCollected",c),()=>{document.removeEventListener("visitorConsentCollected",c)}},[r]),d.useEffect(()=>{if(!t||i.current.privacyBanner)return;i.current.privacyBanner=!0;let c=window.privacyBanner||void 0;Object.defineProperty(window,"privacyBanner",{configurable:!0,get(){return c},set(l){if(typeof l=="object"&&l!==null&&"showPreferences"in l&&"loadBanner"in l){let p=l;p.loadBanner(s),c=Se({privacyBanner:p,config:s}),o.privacyBanner(),Pe()}}})},[t,s,Se,o.privacyBanner]),d.useEffect(()=>{if(i.current.customerPrivacy)return;i.current.customerPrivacy=!0;let c=null,l=window.Shopify||void 0;Object.defineProperty(window,"Shopify",{configurable:!0,get(){return l},set(p){typeof p=="object"&&p!==null&&Object.keys(p).length===0&&(l=p,Object.defineProperty(window.Shopify,"customerPrivacy",{configurable:!0,get(){return c},set(f){if(typeof f=="object"&&f!==null&&"setTrackingConsent"in f){let h=f;c={...h,setTrackingConsent:Ie({customerPrivacy:h,config:s})},l={...l,customerPrivacy:c},o.customerPrivacy(),Pe()}}}))}})},[s,Ie,o.customerPrivacy]);let u={customerPrivacy:X()};return t&&(u.privacyBanner=ee()),u}var Ee=!1;function Pe(){if(Ee)return;Ee=!0;let e=new CustomEvent("shopifyCustomerPrivacyApiLoaded");document.dispatchEvent(e)}function qt({withPrivacyBanner:e,onLoaded:t}){let r=d.useRef({customerPrivacy:!1,privacyBanner:!1}),[a,n]=d.useState(e?[!1,!1]:[!1]),i=a.every(Boolean),o={customerPrivacy:()=>{n(e?s=>[!0,s[1]]:()=>[!0])},privacyBanner:()=>{e&&n(s=>[s[0],!0])}};return d.useEffect(()=>{i&&t&&t()},[i,t]),{observing:r,setLoaded:o}}function Ce(e){if(typeof window>"u")return;let t=window.document.location.host,r=e.split(".").reverse(),a=t.split(".").reverse(),n=[];return r.forEach((i,o)=>{i===a[o]&&n.push(i)}),n.reverse().join(".")}function Ie({customerPrivacy:e,config:t}){let r=e.setTrackingConsent,{locale:a,country:n,...i}=t;function o(s,u){r({...i,headlessStorefront:!0,...s},u)}return o}function Se({privacyBanner:e,config:t}){let r=e.loadBanner,a=e.showPreferences;function n(o){if(typeof o=="object"){r({...t,...o});return}r(t)}function i(o){if(typeof o=="object"){a({...t,...o});return}a(t)}return{loadBanner:n,showPreferences:i}}function X(){var e;try{return window.Shopify&&window.Shopify.customerPrivacy?(e=window.Shopify)==null?void 0:e.customerPrivacy:null}catch{return null}}function ee(){try{return window&&(window!=null&&window.privacyBanner)?window.privacyBanner:null}catch{return null}}var Gt="2025.1.3";function Ht(){let e=X();if(!e)throw new Error("Shopify Customer Privacy API not available. Must be used within a useEffect. Make sure to load the Shopify Customer Privacy API with useCustomerPrivacy() or <AnalyticsProvider>.");return e}function Ft({consent:e,onReady:t,domain:r}){let{subscribe:a,register:n,canTrack:i}=Z(),[o,s]=d.useState(!1),[u,c]=d.useState(!1),l=d.useRef(!1),{checkoutDomain:p,storefrontAccessToken:f,language:h}=e,{ready:m}=n("Internal_Shopify_Analytics");return Wt({...e,locale:h,checkoutDomain:p||"mock.shop",storefrontAccessToken:f||"abcdefghijklmnopqrstuvwxyz123456",onVisitorConsentCollected:()=>c(!0),onReady:()=>c(!0)}),Rt({hasUserConsent:u?i():!0,domain:r,checkoutDomain:p}),d.useEffect(()=>{l.current||(l.current=!0,a(C.PAGE_VIEWED,Kt),a(C.PRODUCT_VIEWED,Yt),a(C.COLLECTION_VIEWED,Xt),a(C.SEARCH_VIEWED,zt),a(C.PRODUCT_ADD_TO_CART,Zt),s(!0))},[a]),d.useEffect(()=>{o&&u&&(m(),t())},[o,u,t]),null}function W(e){console.error(`[h2:error:ShopifyAnalytics] Unable to send Shopify analytics: Missing shop.${e} configuration.`)}function M(e){var a,n,i,o;let t=Ht(),r=t.analyticsProcessingAllowed();if(!((a=e==null?void 0:e.shop)!=null&&a.shopId)){W("shopId");return}if(!((n=e==null?void 0:e.shop)!=null&&n.acceptedLanguage)){W("acceptedLanguage");return}if(!((i=e==null?void 0:e.shop)!=null&&i.currency)){W("currency");return}if(!((o=e==null?void 0:e.shop)!=null&&o.hydrogenSubchannelId)){W("hydrogenSubchannelId");return}return{shopifySalesChannel:"hydrogen",assetVersionId:Gt,...e.shop,hasUserConsent:r,..._t(),ccpaEnforced:!t.saleOfDataAllowed(),gdprEnforced:!(t.marketingAllowed()&&t.analyticsProcessingAllowed()),analyticsAllowed:t.analyticsProcessingAllowed(),marketingAllowed:t.marketingAllowed(),saleOfDataAllowed:t.saleOfDataAllowed()}}function Jt(e,t){if(t===null)return;let r=M(e);return r?{...r,cartId:t.id}:void 0}var k={};function Kt(e){let t=M(e);t&&(U({eventName:E.PAGE_VIEW_2,payload:{...t,...k}}),k={})}function Yt(e){let t=M(e);if(t&&Be({type:"product",products:e.products})){let r=te(e.products);k={pageType:O.product,resourceId:r[0].productGid},t={...t,...k,products:te(e.products)},U({eventName:E.PRODUCT_VIEW,payload:t})}}function Xt(e){let t=M(e);t&&(k={pageType:O.collection,resourceId:e.collection.id},t={...t,...k,collectionHandle:e.collection.handle,collectionId:e.collection.id},U({eventName:E.COLLECTION_VIEW,payload:t}))}function zt(e){let t=M(e);t&&(k={pageType:O.search},t={...t,...k,searchString:e.searchTerm},U({eventName:E.SEARCH_VIEW,payload:t}))}function Zt(e){let{cart:t,currentLine:r}=e,a=Jt(e,t);!a||!(r!=null&&r.id)||Qt({matchedLine:r,eventPayload:a})}function Qt({matchedLine:e,eventPayload:t}){let r={id:e.merchandise.product.id,variantId:e.merchandise.id,title:e.merchandise.product.title,variantTitle:e.merchandise.title,vendor:e.merchandise.product.vendor,price:e.merchandise.price.amount,quantity:e.quantity,productType:e.merchandise.product.productType,sku:e.merchandise.sku};Be({type:"cart",products:[r]})&&U({eventName:E.ADD_TO_CART,payload:{...t,products:te([r])}})}function T(e,t,r,a){if(e==="cart"){let n=`${r?"merchandise":"merchandise.product"}.${t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up cart analytics events because the \`cart.lines[].${n}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartLine on CartLine\` is defined and make sure \`${n}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L25-L56.`)}else{let n=`${a||t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up product view analytics events because the \`${n}\` is missing from your \`<Analytics.ProductView>\`. Make sure \`${n}\` is part of your products data prop. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/routes/products.%24handle.tsx#L159-L165.`)}}function Be({type:e,products:t}){return!t||t.length===0?(T(e,"",!1,"data.products"),!1):(t.forEach(r=>{if(!r.id)return T(e,"id",!1),!1;if(!r.title)return T(e,"title",!1),!1;if(!r.price)return T(e,"price.amount",!0,"price"),!1;if(!r.vendor)return T(e,"vendor",!1),!1;if(!r.variantId)return T(e,"id",!0,"variantId"),!1;if(!r.variantTitle)return T(e,"title",!0,"variantTitle"),!1}),!0)}function te(e){return e.map(t=>{let r={productGid:t.id,variantGid:t.variantId,name:t.title,variantName:t.variantTitle,brand:t.vendor,price:t.price,quantity:t.quantity||1,category:t.productType};return t.sku&&(r.sku=t.sku),t.productType&&(r.category=t.productType),r})}function be(e){console.error(`[h2:error:CartAnalytics] Can't set up cart analytics events because the \`cart.${e}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartApiQuery on Cart\` is defined and make sure \`${e}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L59.`)}function er({cart:e,setCarts:t}){let{publish:r,shop:a,customData:n,canTrack:i,cart:o,prevCart:s}=Z(),u=d.useRef(null);return d.useEffect(()=>{if(e)return Promise.resolve(e).then(c=>{if(c&&c.lines){if(!c.id){be("id");return}if(!c.updatedAt){be("updatedAt");return}}t(({cart:l,prevCart:p})=>(c==null?void 0:c.updatedAt)!==(l==null?void 0:l.updatedAt)?{cart:c,prevCart:l}:{cart:l,prevCart:p})}),()=>{}},[t,e]),d.useEffect(()=>{if(!o||!(o!=null&&o.updatedAt)||(o==null?void 0:o.updatedAt)===(s==null?void 0:s.updatedAt))return;let c;try{c=JSON.parse(localStorage.getItem("cartLastUpdatedAt")||"")}catch{c=null}if(o.id===(c==null?void 0:c.id)&&o.updatedAt===(c==null?void 0:c.updatedAt))return;let l={eventTimestamp:Date.now(),cart:o,prevCart:s,shop:a,customData:n};if(o.updatedAt===u.current)return;u.current=o.updatedAt,r("cart_updated",l),localStorage.setItem("cartLastUpdatedAt",JSON.stringify({id:o.id,updatedAt:o.updatedAt}));let p=s!=null&&s.lines?N(s==null?void 0:s.lines):[],f=o.lines?N(o.lines):[];p==null||p.forEach(h=>{let m=f.filter(g=>h.id===g.id);if((m==null?void 0:m.length)===1){let g=m[0];h.quantity<g.quantity?r("product_added_to_cart",{...l,prevLine:h,currentLine:g}):h.quantity>g.quantity&&r("product_removed_from_cart",{...l,prevLine:h,currentLine:g})}else r("product_removed_from_cart",{...l,prevLine:h})}),f==null||f.forEach(h=>{let m=p.filter(g=>h.id===g.id);(!m||m.length===0)&&r("product_added_to_cart",{...l,currentLine:h})})},[o,s,r,a,n,i]),null}var tr="https://cdn.shopify.com/shopifycloud/perf-kit/shopify-perf-kit-1.0.1.min.js";function rr({shop:e}){let t=d.useRef(!1),{subscribe:r,register:a}=Z(),{ready:n}=a("Internal_Shopify_Perf_Kit"),i=z(tr,{attributes:{id:"perfkit","data-application":"hydrogen","data-shop-id":_(e.shopId).id.toString(),"data-storefront-id":e.hydrogenSubchannelId,"data-monorail-region":"global","data-spa-mode":"true","data-resource-timing-sampling-rate":"100"}});return d.useEffect(()=>{i!=="done"||t.current||(t.current=!0,r(C.PAGE_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.navigate()}),r(C.PRODUCT_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("product")}),r(C.COLLECTION_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("collection")}),r(C.SEARCH_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("search")}),r(C.CART_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("cart")}),n())},[r,n,i]),null}var Ae=new Set,nr=e=>{Ae.has(e)||(console.warn(e),Ae.add(e))},ke=new Set,Te=e=>{ke.has(e)||(console.error(new Error(e)),ke.add(e))},or={canTrack:()=>!1,cart:null,customData:{},prevCart:null,publish:()=>{},shop:null,subscribe:()=>{},register:()=>({ready:()=>{}}),customerPrivacy:null,privacyBanner:null},We=d.createContext(or),J=new Map,j={};function qe(){return Object.values(j).every(Boolean)}function xe(e,t){var r;J.has(e)||J.set(e,new Map),(r=J.get(e))==null||r.set(t.toString(),t)}var K=new Map;function De(e,t){if(!qe()){K.set(e,t);return}Ge(e,t)}function Ge(e,t){(J.get(e)??new Map).forEach((r,a)=>{try{r(t)}catch(n){typeof n=="object"&&n instanceof Error?console.error("Analytics publish error",n.message,a,n.stack):console.error("Analytics publish error",n,a)}})}function Le(e){return j.hasOwnProperty(e)||(j[e]=!1),{ready:()=>{j[e]=!0,qe()&&K.size>0&&(K.forEach((t,r)=>{Ge(r,t)}),K.clear())}}}function Oe(){try{return window.Shopify.customerPrivacy.analyticsProcessingAllowed()}catch{}return!1}function Re(e,t){return`[h2:error:Analytics.Provider] - ${e} is required. Make sure ${t} is defined in your environment variables. See https://h2o.fyi/analytics/consent to learn how to setup environment variables in the Shopify admin.`}function ar({canTrack:e,cart:t,children:r,consent:a,customData:n={},shop:i=null,cookieDomain:o}){var y;let s=d.useRef(!1),{shop:u}=ir(i),[c,l]=d.useState(!!e),[p,f]=d.useState({cart:null,prevCart:null}),[h,m]=d.useState(e?()=>e:()=>Oe);if(u)if(/\/68817551382$/.test(u.shopId))nr("[h2:error:Analytics.Provider] - Mock shop is used. Analytics will not work properly.");else{if(!a.checkoutDomain){let w=Re("consent.checkoutDomain","PUBLIC_CHECKOUT_DOMAIN");Te(w)}if(!a.storefrontAccessToken){let w=Re("consent.storefrontAccessToken","PUBLIC_STOREFRONT_API_TOKEN");Te(w)}a!=null&&a.country||(a.country="US"),a!=null&&a.language||(a.language="EN"),a.withPrivacyBanner===void 0&&(a.withPrivacyBanner=!1)}let g=d.useMemo(()=>({canTrack:h,...p,customData:n,publish:h()?De:()=>{},shop:u,subscribe:xe,register:Le,customerPrivacy:X(),privacyBanner:ee()}),[c,h,p,(y=p.cart)==null?void 0:y.updatedAt,p.prevCart,De,xe,n,u,Le,JSON.stringify(j),X,ee]);return v.jsxs(We.Provider,{value:g,children:[r,!!u&&v.jsx(Nt,{}),!!u&&!!t&&v.jsx(er,{cart:t,setCarts:f}),!!u&&a.checkoutDomain&&v.jsx(Ft,{consent:a,onReady:()=>{s.current=!0,l(!0),m(e?()=>e:()=>Oe)},domain:o}),!!u&&v.jsx(rr,{shop:u})]})}function Z(){let e=d.useContext(We);if(!e)throw new Error("[h2:error:useAnalytics] 'useAnalytics()' must be a descendent of <AnalyticsProvider/>");return e}function ir(e){let[t,r]=d.useState(null);return d.useEffect(()=>(Promise.resolve(e).then(r),()=>{}),[r,e]),{shop:t}}var mr={CartView:Ut,CollectionView:Vt,ProductView:jt,Provider:ar,SearchView:$t},He="cartFormInput";function ae({children:e,action:t,inputs:r,route:a,fetcherKey:n}){let i=Je({key:n});return v.jsxs(i.Form,{action:a||"",method:"post",children:[(t||r)&&v.jsx("input",{type:"hidden",name:He,value:JSON.stringify({action:t,inputs:r})}),typeof e=="function"?e(i):e]})}ae.INPUT_NAME=He;ae.ACTIONS={AttributesUpdateInput:"AttributesUpdateInput",BuyerIdentityUpdate:"BuyerIdentityUpdate",Create:"Create",DiscountCodesUpdate:"DiscountCodesUpdate",GiftCardCodesUpdate:"GiftCardCodesUpdate",LinesAdd:"LinesAdd",LinesRemove:"LinesRemove",LinesUpdate:"LinesUpdate",NoteUpdate:"NoteUpdate",SelectedDeliveryOptionsUpdate:"SelectedDeliveryOptionsUpdate",MetafieldsSet:"MetafieldsSet",MetafieldDelete:"MetafieldDelete"};function sr(e){let t={};for(let o of e.entries()){let s=o[0],u=e.getAll(s);t[s]=u.length>1?u:o[1]}let{cartFormInput:r,...a}=t,{action:n,inputs:i}=r?JSON.parse(String(r)):{};return{action:n,inputs:{...i,...a}}}ae.getFormInput=sr;var Fe=d.createContext(void 0);Fe.Provider;var cr=()=>d.useContext(Fe);d.forwardRef((e,t)=>{let{waitForHydration:r,src:a,...n}=e,i=cr();return r?v.jsx(ur,{src:a,options:n}):v.jsx("script",{suppressHydrationWarning:!0,...n,src:a,nonce:i,ref:t})});function ur({src:e,options:t}){if(!e)throw new Error("`waitForHydration` with the Script component requires a `src` prop");return z(e,{attributes:t}),null}function yr(e){let t=Ke(),r={};for(let{formData:a}of t)if((a==null?void 0:a.get("optimistic-identifier"))===e)try{if(a.has("optimistic-data")){let n=JSON.parse(String(a.get("optimistic-data")));Object.assign(r,n)}}catch{}return r}function vr({id:e,data:t}){return v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"hidden",name:"optimistic-identifier",value:e}),v.jsx("input",{type:"hidden",name:"optimistic-data",value:JSON.stringify(t)})]})}function wr({connection:e,children:t=()=>(console.warn("<Pagination> requires children to work properly"),null),namespace:r=""}){let[a,n]=d.useState(!1),i=re(),o=ne();Ne(),d.useEffect(()=>{i.state==="idle"&&n(!1)},[i.state]);let{endCursor:s,hasNextPage:u,hasPreviousPage:c,nextPageUrl:l,nodes:p,previousPageUrl:f,startCursor:h}=lr(e,r),m=d.useMemo(()=>{var w;return{...o.state,pagination:{...((w=o.state)==null?void 0:w.pagination)||{},[r]:{pageInfo:{endCursor:s,hasPreviousPage:c,hasNextPage:u,startCursor:h},nodes:p}}}},[s,u,c,h,p,r,o.state]),g=d.useMemo(()=>d.forwardRef(function(w,x){return u?d.createElement(fe,{preventScrollReset:!0,...w,to:l,state:m,replace:!0,ref:x,onClick:()=>n(!0)}):null}),[u,l,m]),y=d.useMemo(()=>d.forwardRef(function(w,x){return c?d.createElement(fe,{preventScrollReset:!0,...w,to:f,state:m,replace:!0,ref:x,onClick:()=>n(!0)}):null}),[c,f,m]);return t({state:m,hasNextPage:u,hasPreviousPage:c,isLoading:a,nextPageUrl:l,nodes:p,previousPageUrl:f,NextLink:g,PreviousLink:y})}function q(e,t){let r=new URLSearchParams(e);return Object.keys((t==null?void 0:t.pagination)||{}).forEach(a=>{let n=a===""?"":`${a}_`,i=`${n}cursor`,o=`${n}direction`;r.delete(i),r.delete(o)}),r.toString()}function R(e){throw new Error(`The Pagination component requires ${"`"+e+"`"} to be a part of your query. See the guide on how to setup your query to include ${"`"+e+"`"}: https://shopify.dev/docs/custom-storefronts/hydrogen/data-fetching/pagination#setup-the-paginated-query`)}function lr(e,t=""){e.pageInfo||R("pageInfo"),typeof e.pageInfo.startCursor>"u"&&R("pageInfo.startCursor"),typeof e.pageInfo.endCursor>"u"&&R("pageInfo.endCursor"),typeof e.pageInfo.hasNextPage>"u"&&R("pageInfo.hasNextPage"),typeof e.pageInfo.hasPreviousPage>"u"&&R("pageInfo.hasPreviousPage");let r=re(),a=Ne(),{state:n,search:i,pathname:o}=ne(),s=t?`${t}_cursor`:"cursor",u=t?`${t}_direction`:"direction",c=new URLSearchParams(i).get(u)==="previous",l=d.useMemo(()=>{var g,y,w;return!((g=globalThis==null?void 0:globalThis.window)!=null&&g.__hydrogenHydrated)||!((w=(y=n==null?void 0:n.pagination)==null?void 0:y[t])!=null&&w.nodes)?N(e):c?[...N(e),...n.pagination[t].nodes||[]]:[...n.pagination[t].nodes||[],...N(e)]},[n,e,t]),p=d.useMemo(()=>{var ce,ue,le,de,pe;let g=(ce=globalThis==null?void 0:globalThis.window)==null?void 0:ce.__hydrogenHydrated,y=(le=(ue=n==null?void 0:n.pagination)==null?void 0:ue[t])==null?void 0:le.pageInfo,w=!g||(y==null?void 0:y.startCursor)===void 0?e.pageInfo.startCursor:y.startCursor,x=!g||(y==null?void 0:y.endCursor)===void 0?e.pageInfo.endCursor:y.endCursor,ie=!g||(y==null?void 0:y.hasPreviousPage)===void 0?e.pageInfo.hasPreviousPage:y.hasPreviousPage,se=!g||(y==null?void 0:y.hasNextPage)===void 0?e.pageInfo.hasNextPage:y.hasNextPage;return(pe=(de=n==null?void 0:n.pagination)==null?void 0:de[t])!=null&&pe.nodes&&(c?(w=e.pageInfo.startCursor,ie=e.pageInfo.hasPreviousPage):(x=e.pageInfo.endCursor,se=e.pageInfo.hasNextPage)),{startCursor:w,endCursor:x,hasPreviousPage:ie,hasNextPage:se}},[c,n,t,e.pageInfo.hasNextPage,e.pageInfo.hasPreviousPage,e.pageInfo.startCursor,e.pageInfo.endCursor]),f=d.useRef({params:q(i,n),pathname:o});d.useEffect(()=>{window.__hydrogenHydrated=!0},[]),d.useEffect(()=>{let g=q(i,n),y=f.current.params;(o!==f.current.pathname||g!==y)&&!(r.state==="idle"&&!r.location)&&(f.current={pathname:o,params:q(i,n)},a(`${o}?${q(i,n)}`,{replace:!0,preventScrollReset:!0,state:{nodes:void 0,pageInfo:void 0}}))},[o,i,n]);let h=d.useMemo(()=>{let g=new URLSearchParams(i);return g.set(u,"previous"),p.startCursor&&g.set(s,p.startCursor),`?${g.toString()}`},[i,p.startCursor]),m=d.useMemo(()=>{let g=new URLSearchParams(i);return g.set(u,"next"),p.endCursor&&g.set(s,p.endCursor),`?${g.toString()}`},[i,p.endCursor]);return{...p,previousPageUrl:h,nextPageUrl:m,nodes:l}}function _r(e,t){let r=re(),[a,n]=d.useState([]);if(d.useEffect(()=>{Promise.resolve(t).then(i=>{var o,s;i&&n(i instanceof Array?i:((s=(o=i.product)==null?void 0:o.variants)==null?void 0:s.nodes)||[])}).catch(i=>{reportError(new Error("[h2:error:useOptimisticVariant] An error occurred while resolving the variants for the optimistic product hook.",{cause:i}))})},[JSON.stringify(t)]),r.state==="loading"){let i=new URLSearchParams(r.location.search),o=!1,s=a.find(u=>u.selectedOptions?u.selectedOptions.every(c=>i.get(c.name)===c.value):(o||(o=!0,reportError(new Error("[h2:error:useOptimisticVariant] The optimistic product hook requires your product query to include variants with the selectedOptions field."))),!1));if(s)return{...s,isOptimistic:!0}}return e}var A="Error in SEO input: ",G={title:{validate:e=>{if(typeof e!="string")throw new Error(A.concat("`title` should be a string"));if(typeof e=="string"&&e.length>120)throw new Error(A.concat("`title` should not be longer than 120 characters"));return e}},description:{validate:e=>{if(typeof e!="string")throw new Error(A.concat("`description` should be a string"));if(typeof e=="string"&&e.length>155)throw new Error(A.concat("`description` should not be longer than 155 characters"));return e}},url:{validate:e=>{if(typeof e!="string")throw new Error(A.concat("`url` should be a string"));if(typeof e=="string"&&!e.startsWith("http"))throw new Error(A.concat("`url` should be a valid URL"));return e}},handle:{validate:e=>{if(typeof e!="string")throw new Error(A.concat("`handle` should be a string"));if(typeof e=="string"&&!e.startsWith("@"))throw new Error(A.concat("`handle` should start with `@`"));return e}}};function dr(e,t){if(t)return e?typeof e=="function"?e(t):e.replace("%s",t??""):t}function pr(e){switch(e&&e.split(".").pop()){case"svg":return"image/svg+xml";case"png":return"image/png";case"gif":return"image/gif";case"swf":return"application/x-shockwave-flash";case"mp3":return"audio/mpeg";case"jpg":case"jpeg":default:return"image/jpeg"}}function H(e){return Array.isArray(e)?e:[e]}function F(e,t){try{return e.validate(t)}catch(r){return console.warn(r.message),t}}function Er(...e){let t=[],r=e.reduce((a,n)=>{if(!n)return a;Object.keys(n).forEach(o=>!n[o]&&delete n[o]);let{jsonLd:i}=n;return i?a!=null&&a.jsonLd?{...a,...n,jsonLd:H(a.jsonLd).concat(i)}:{...a,...n,jsonLd:[i]}:{...a,...n}},{})||{};for(let a of Object.keys(r))switch(a){case"title":{let n=F(G.title,r.title),i=dr(r==null?void 0:r.titleTemplate,n);if(!i)break;t.push({title:i},{property:"og:title",content:i},{property:"twitter:title",content:i});break}case"description":{let n=F(G.description,r.description);if(!n)break;t.push({name:"description",content:n},{property:"og:description",content:n},{property:"twitter:description",content:n});break}case"url":{let n=F(G.url,r.url);if(!n)break;let i=n.split("?")[0].replace(/\/$/,"");t.push({tagName:"link",rel:"canonical",href:i},{property:"og:url",content:i});break}case"handle":{let n=F(G.handle,r.handle);if(!n)break;t.push({property:"twitter:site",content:n},{property:"twitter:creator",content:n});break}case"media":{let n,i=H(r.media);for(let o of i)if(typeof o=="string"&&t.push({property:"og:image",content:o}),o&&typeof o=="object"){let s=o.type||"image",u=o?{url:o==null?void 0:o.url,secure_url:o==null?void 0:o.url,type:pr(o.url),width:o==null?void 0:o.width,height:o==null?void 0:o.height,alt:o==null?void 0:o.altText}:{};for(let c of Object.keys(u))u[c]&&(n=u[c],t.push({property:`og:${s}:${c}`,content:n}))}break}case"jsonLd":{let n=H(r.jsonLd);for(let i of n)typeof i!="object"||Object.keys(i).length===0||t.push({"script:ld+json":i});break}case"alternates":{let n=H(r.alternates);for(let i of n){if(!i)continue;let{language:o,url:s,default:u}=i,c=o?`${o}${u?"-default":""}`:void 0;t.push({tagName:"link",rel:"alternate",hrefLang:c,href:s})}break}case"robots":{if(!r.robots)break;let{maxImagePreview:n,maxSnippet:i,maxVideoPreview:o,noArchive:s,noFollow:u,noImageIndex:c,noIndex:l,noSnippet:p,noTranslate:f,unavailableAfter:h}=r.robots,m=[s&&"noarchive",c&&"noimageindex",p&&"nosnippet",f&&"notranslate",n&&`max-image-preview:${n}`,i&&`max-snippet:${i}`,o&&`max-video-preview:${o}`,h&&`unavailable_after:${h}`],g=(l?"noindex":"index")+","+(u?"nofollow":"follow");for(let y of m)y&&(g+=`,${y}`);t.push({name:"robots",content:g});break}}return t}d.lazy(()=>Qe(()=>import("./log-seo-tags-TY72EQWZ-DCHH-_Gl.js"),[]));function Pr(e){return v.jsx(At,{channel:"hydrogen",...e})}export{vr as I,wr as O,Er as X,ae as j,_r as k,mr as o,cr as q,Pr as s,z as u,yr as v};
