import{r as f,m as X,j as l,u as De,A as Ce}from"./components-DpluEorh.js";import{k as ke,o as Fe,X as _e,s as Me}from"./index-D9Zn7Ol-.js";import{S as Ue,H as be,T as W,b as pe,c as k}from"./Text-DDUC__2Y.js";import{L as ie}from"./Link-BE_DgB92.js";import{B as ze}from"./Button-DLJUwG7J.js";import{A as Be}from"./ProductCard-Bay5aLU-.js";import{S as Ke}from"./Skeleton-CqNp3mmp.js";import{P as Qe}from"./ProductSwimlane-DdyYxUqe.js";import{I as He}from"./Image-CKmnK2hx.js";import{b as Ge,e as Xe,d as qe}from"./Icon-D-RzneJA.js";import{M as fe}from"./Money-EMQwjQIk.js";import{j as ge,l as F,a as S,U as _,I as Y,y as M,c as se,C as U,p as J,d as We,e as Z,o as Je,T as Ze,i as w,r as Ye,O as me,u as D,b as Ve,h as et,g as tt,s as nt,x as rt,f as ot,A as te}from"./disclosure-DhV7NFrB.js";import{s as at,u as it,c as L,f as st}from"./use-text-value-DMvu1Mx-.js";import{u as lt,s as ut}from"./hidden-Col7Hbfk.js";import"./flatten-connection-BTqmuHGw.js";import"./ShopifyProvider-DWJBKkbi.js";const ne=",",A={OPTION:":",END_OF_PREFIX:",",SEQUENCE_GAP:" ",RANGE:"-"},ve=(()=>{const e=new Map;return function(t,r){var n;if(t.length===0)return!1;if(!e.has(r)){const a=new Set;for(const i of ct(r)){a.add(i.join(ne));for(let o=0;o<i.length;o++)a.add(i.slice(0,o+1).join(ne))}e.set(r,a)}return!!((n=e.get(r))!=null&&n.has(t.join(ne)))}})();function ct(e){if(!e)return[];if(e.startsWith("v1_"))return pt(dt(e));throw new Error("Unsupported option value encoding")}const dt=e=>e.replace(/^v1_/,"");function pt(e){const t=/[ :,-]/g;let r=0,n;const a=[],i=[];let o=0,s=null;for(;n=t.exec(e);){const c=n[0],p=Number.parseInt(e.slice(r,n.index))||0;if(s!==null){for(;s<p;s++)i[o]=s,a.push([...i]);s=null}i[o]=p,c===A.RANGE?s=p:c===A.OPTION?o++:((c===A.SEQUENCE_GAP||c===A.END_OF_PREFIX&&e[n.index-1]!==A.END_OF_PREFIX)&&a.push([...i]),c===A.END_OF_PREFIX&&(i.pop(),o--)),r=t.lastIndex}const d=e.match(/\d+$/g);if(d){const c=parseInt(d[0]);if(s!=null)for(;s<=c;s++)i[o]=s,a.push([...i]);else a.push([c])}return a}function ft(e){return Object.assign({},...e.map(t=>({[t.name]:Object.assign({},...t!=null&&t.optionValues?t.optionValues.map((r,n)=>({[r.name]:n})):[])})))}function le(e){return Object.assign({},...e.map(t=>({[t.name]:t.value})))}function he(e){return Array.isArray(e)?JSON.stringify(Object.assign({},...e.map(t=>({[t.name]:t.value})))):JSON.stringify(e)}function mt(e,t){return Object.keys(e).map(n=>t[n]?t[n][e[n]]:null).filter(n=>n!==null)}function vt(e){return Object.assign({},...e.map(t=>({[he(t.selectedOptions||[])]:t})))}const xe=["options","selectedOrFirstAvailableVariant","adjacentVariants"],xt=["handle","encodedVariantExistence","encodedVariantAvailability"];function T(e){return console.error(`[h2:error:getProductOptions] product.${e} is missing. Make sure you query for this field from the Storefront API.`),!1}function bt(e,t=!1){var r;let n=!0;const a=Object.keys(e);if((t?[...xe,...xt]:xe).forEach(i=>{a.includes(i)||(n=T(i))}),e.options){const i=e==null?void 0:e.options[0];if(t&&!(i!=null&&i.name)&&(n=T("options.name")),(r=e==null?void 0:e.options[0])!=null&&r.optionValues){let o=e.options[0].optionValues[0];t&&!(o!=null&&o.name)&&(n=T("options.optionValues.name")),o=e.options[0].optionValues.filter(s=>!!(s!=null&&s.firstSelectableVariant))[0],o!=null&&o.firstSelectableVariant&&(n=re(o.firstSelectableVariant,"options.optionValues.firstSelectableVariant",n,t))}else n=T("options.optionValues")}return e.selectedOrFirstAvailableVariant&&(n=re(e.selectedOrFirstAvailableVariant,"selectedOrFirstAvailableVariant",n,t)),e.adjacentVariants&&e.adjacentVariants[0]&&(n=re(e.adjacentVariants[0],"adjacentVariants",n,t)),n?e:{}}function re(e,t,r,n){var a;let i=r;if(n&&!((a=e.product)!=null&&a.handle)&&(i=T(`${t}.product.handle`)),e.selectedOptions){const o=e.selectedOptions[0];o!=null&&o.name||(i=T(`${t}.selectedOptions.name`)),o!=null&&o.value||(i=T(`${t}.selectedOptions.value`))}else i=T(`${t}.selectedOptions`);return i}function gt(e){const t=bt(e,!0);if(!t.options)return[];const{options:r,selectedOrFirstAvailableVariant:n,adjacentVariants:a,encodedVariantExistence:i,encodedVariantAvailability:o,handle:s}=t,d=n==null?void 0:n.selectedOptions.map(m=>m.name),c=r.filter(m=>d&&d.indexOf(m.name)>=0),p=ft(r),x=vt(n?[n,...a]:a),j=le(n?n.selectedOptions:[]);return c.map((m,y)=>({...m,optionValues:m.optionValues.map(b=>{var u;const O={...j};O[m.name]=b.name;const E=he(O||[]),$=mt(O||[],p).slice(0,y+1),P=ve($,i||""),N=ve($,o||""),g=x[E]||b.firstSelectableVariant;let K={};g&&(K=le(g.selectedOptions||[]));const V=new URLSearchParams(K),Q=((u=g==null?void 0:g.product)==null?void 0:u.handle)||s;return{...b,variant:g,handle:Q,variantUriQuery:V.toString(),selected:j[m.name]===b.name,exists:P,available:N,isDifferentProduct:Q!==s}})}))}function ht(e){return f.useEffect(()=>{const t=new URLSearchParams(le(e||[])),r=new URLSearchParams(window.location.search),n=new URLSearchParams({...Object.fromEntries(r),...Object.fromEntries(t)});n.size>0&&window.history.replaceState({},"",`${window.location.pathname}?${n.toString()}`)},[JSON.stringify(e)]),null}function Oe(e,t){let[r,n]=f.useState(e),a=ge(e);return F(()=>n(a.current),[a,n,...t]),r}function Ot(e,t,r){let[n,a]=f.useState(r),i=e!==void 0,o=f.useRef(i),s=f.useRef(!1),d=f.useRef(!1);return i&&!o.current&&!s.current?(s.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&o.current&&!d.current&&(d.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:n,S(c=>(i||a(c),t==null?void 0:t(c)))]}function Se(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))je(r,ye(t,n),a);return r}function ye(e,t){return e?e+"["+t+"]":t}function je(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())je(e,ye(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Se(r,t,e)}var St=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(St||{}),yt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(yt||{}),jt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(jt||{}),Rt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(Rt||{});function oe(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=ot(t(e.options.slice()),i=>i.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let Pt={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(a=>r(a.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var r;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=oe(e),a=st(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:a,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(o=>{var s;return!o.dataRef.current.disabled&&((s=o.dataRef.current.textValue)==null?void 0:s.startsWith(n))}),i=a?e.options.indexOf(a):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=oe(e,a=>[...a,r]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,t)=>{let r=oe(e,n=>{let a=n.findIndex(i=>i.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},ue=f.createContext(null);ue.displayName="ListboxActionsContext";function z(e){let t=f.useContext(ue);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,z),r}return t}let ce=f.createContext(null);ce.displayName="ListboxDataContext";function B(e){let t=f.useContext(ce);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,B),r}return t}function wt(e,t){return D(t.type,Pt,e,t)}let It=f.Fragment;function Lt(e,t){let{value:r,defaultValue:n,form:a,name:i,onChange:o,by:s=(v,h)=>v===h,disabled:d=!1,horizontal:c=!1,multiple:p=!1,...x}=e;const j=c?"horizontal":"vertical";let R=M(t),[m=p?[]:void 0,y]=Ot(r,o,n),[b,u]=f.useReducer(wt,{dataRef:f.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),O=f.useRef({static:!1,hold:!1}),E=f.useRef(null),C=f.useRef(null),$=f.useRef(null),P=S(typeof s=="string"?(v,h)=>{let I=s;return(v==null?void 0:v[I])===(h==null?void 0:h[I])}:s),N=f.useCallback(v=>D(g.mode,{1:()=>m.some(h=>P(h,v)),0:()=>P(m,v)}),[m]),g=f.useMemo(()=>({...b,value:m,disabled:d,mode:p?1:0,orientation:j,compare:P,isSelected:N,optionsPropsRef:O,labelRef:E,buttonRef:C,optionsRef:$}),[m,d,p,b]);F(()=>{b.dataRef.current=g},[g]),Ve([g.buttonRef,g.optionsRef],(v,h)=>{var I;u({type:1}),et(h,tt.Loose)||(v.preventDefault(),(I=g.buttonRef.current)==null||I.focus())},g.listboxState===0);let K=f.useMemo(()=>({open:g.listboxState===0,disabled:d,value:m}),[g,d,m]),V=S(v=>{let h=g.options.find(I=>I.id===v);h&&ee(h.dataRef.current.value)}),Q=S(()=>{if(g.activeOptionIndex!==null){let{dataRef:v,id:h}=g.options[g.activeOptionIndex];ee(v.current.value),u({type:2,focus:L.Specific,id:h})}}),Re=S(()=>u({type:0})),Pe=S(()=>u({type:1})),we=S((v,h,I)=>v===L.Specific?u({type:2,focus:L.Specific,id:h,trigger:I}):u({type:2,focus:v,trigger:I})),Ie=S((v,h)=>(u({type:5,id:v,dataRef:h}),()=>u({type:6,id:v}))),Le=S(v=>(u({type:7,id:v}),()=>u({type:7,id:null}))),ee=S(v=>D(g.mode,{0(){return y==null?void 0:y(v)},1(){let h=g.value.slice(),I=h.findIndex(G=>P(G,v));return I===-1?h.push(v):h.splice(I,1),y==null?void 0:y(h)}})),Ne=S(v=>u({type:3,value:v})),Te=S(()=>u({type:4})),Ee=f.useMemo(()=>({onChange:ee,registerOption:Ie,registerLabel:Le,goToOption:we,closeListbox:Pe,openListbox:Re,selectActiveOption:Q,selectOption:V,search:Ne,clearSearch:Te}),[]),$e={ref:R},H=f.useRef(null),Ae=J();return f.useEffect(()=>{H.current&&n!==void 0&&Ae.addEventListener(H.current,"reset",()=>{y==null||y(n)})},[H,y]),X.createElement(ue.Provider,{value:Ee},X.createElement(ce.Provider,{value:g},X.createElement(nt,{value:D(g.listboxState,{0:Z.Open,1:Z.Closed})},i!=null&&m!=null&&Se({[i]:m}).map(([v,h],I)=>X.createElement(lt,{features:ut.Hidden,ref:I===0?G=>{var de;H.current=(de=G==null?void 0:G.closest("form"))!=null?de:null}:void 0,...rt({key:v,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:a,disabled:d,name:v,value:h})})),U({ourProps:$e,theirProps:x,slot:K,defaultTag:It,name:"Listbox"}))))}let Nt="button";function Tt(e,t){var r;let n=Y(),{id:a=`headlessui-listbox-button-${n}`,...i}=e,o=B("Listbox.Button"),s=z("Listbox.Button"),d=M(o.buttonRef,t),c=J(),p=S(b=>{switch(b.key){case w.Space:case w.Enter:case w.ArrowDown:b.preventDefault(),s.openListbox(),c.nextFrame(()=>{o.value||s.goToOption(L.First)});break;case w.ArrowUp:b.preventDefault(),s.openListbox(),c.nextFrame(()=>{o.value||s.goToOption(L.Last)});break}}),x=S(b=>{switch(b.key){case w.Space:b.preventDefault();break}}),j=S(b=>{if(Ye(b.currentTarget))return b.preventDefault();o.listboxState===0?(s.closeListbox(),c.nextFrame(()=>{var u;return(u=o.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})})):(b.preventDefault(),s.openListbox())}),R=Oe(()=>{if(o.labelId)return[o.labelId,a].join(" ")},[o.labelId,a]),m=f.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),y={ref:d,id:a,type:Ze(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=o.optionsRef.current)==null?void 0:r.id,"aria-expanded":o.listboxState===0,"aria-labelledby":R,disabled:o.disabled,onKeyDown:p,onKeyUp:x,onClick:j};return U({ourProps:y,theirProps:i,slot:m,defaultTag:Nt,name:"Listbox.Button"})}let Et="label";function $t(e,t){let r=Y(),{id:n=`headlessui-listbox-label-${r}`,...a}=e,i=B("Listbox.Label"),o=z("Listbox.Label"),s=M(i.labelRef,t);F(()=>o.registerLabel(n),[n]);let d=S(()=>{var p;return(p=i.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}),c=f.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled}),[i]);return U({ourProps:{ref:s,id:n,onClick:d},theirProps:a,slot:c,defaultTag:Et,name:"Listbox.Label"})}let At="ul",Dt=me.RenderStrategy|me.Static;function Ct(e,t){var r;let n=Y(),{id:a=`headlessui-listbox-options-${n}`,...i}=e,o=B("Listbox.Options"),s=z("Listbox.Options"),d=M(o.optionsRef,t),c=J(),p=J(),x=We(),j=x!==null?(x&Z.Open)===Z.Open:o.listboxState===0;f.useEffect(()=>{var u;let O=o.optionsRef.current;O&&o.listboxState===0&&O!==((u=Je(O))==null?void 0:u.activeElement)&&O.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let R=S(u=>{switch(p.dispose(),u.key){case w.Space:if(o.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),s.search(u.key);case w.Enter:if(u.preventDefault(),u.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:O}=o.options[o.activeOptionIndex];s.onChange(O.current.value)}o.mode===0&&(s.closeListbox(),se().nextFrame(()=>{var O;return(O=o.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})}));break;case D(o.orientation,{vertical:w.ArrowDown,horizontal:w.ArrowRight}):return u.preventDefault(),u.stopPropagation(),s.goToOption(L.Next);case D(o.orientation,{vertical:w.ArrowUp,horizontal:w.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),s.goToOption(L.Previous);case w.Home:case w.PageUp:return u.preventDefault(),u.stopPropagation(),s.goToOption(L.First);case w.End:case w.PageDown:return u.preventDefault(),u.stopPropagation(),s.goToOption(L.Last);case w.Escape:return u.preventDefault(),u.stopPropagation(),s.closeListbox(),c.nextFrame(()=>{var O;return(O=o.buttonRef.current)==null?void 0:O.focus({preventScroll:!0})});case w.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(s.search(u.key),p.setTimeout(()=>s.clearSearch(),350));break}}),m=Oe(()=>{var u;return(u=o.buttonRef.current)==null?void 0:u.id},[o.buttonRef.current]),y=f.useMemo(()=>({open:o.listboxState===0}),[o]),b={"aria-activedescendant":o.activeOptionIndex===null||(r=o.options[o.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":o.orientation,id:a,onKeyDown:R,role:"listbox",tabIndex:0,ref:d};return U({ourProps:b,theirProps:i,slot:y,defaultTag:At,features:Dt,visible:j,name:"Listbox.Options"})}let kt="li";function Ft(e,t){let r=Y(),{id:n=`headlessui-listbox-option-${r}`,disabled:a=!1,value:i,...o}=e,s=B("Listbox.Option"),d=z("Listbox.Option"),c=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===n:!1,p=s.isSelected(i),x=f.useRef(null),j=at(x),R=ge({disabled:a,value:i,domRef:x,get textValue(){return j()}}),m=M(t,x);F(()=>{if(s.listboxState!==0||!c||s.activationTrigger===0)return;let P=se();return P.requestAnimationFrame(()=>{var N,g;(g=(N=x.current)==null?void 0:N.scrollIntoView)==null||g.call(N,{block:"nearest"})}),P.dispose},[x,c,s.listboxState,s.activationTrigger,s.activeOptionIndex]),F(()=>d.registerOption(n,R),[R,n]);let y=S(P=>{if(a)return P.preventDefault();d.onChange(i),s.mode===0&&(d.closeListbox(),se().nextFrame(()=>{var N;return(N=s.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})}))}),b=S(()=>{if(a)return d.goToOption(L.Nothing);d.goToOption(L.Specific,n)}),u=it(),O=S(P=>u.update(P)),E=S(P=>{u.wasMoved(P)&&(a||c||d.goToOption(L.Specific,n,0))}),C=S(P=>{u.wasMoved(P)&&(a||c&&d.goToOption(L.Nothing))}),$=f.useMemo(()=>({active:c,selected:p,disabled:a}),[c,p,a]);return U({ourProps:{id:n,ref:m,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:y,onFocus:b,onPointerEnter:O,onMouseEnter:O,onPointerMove:E,onMouseMove:E,onPointerLeave:C,onMouseLeave:C},theirProps:o,slot:$,defaultTag:kt,name:"Listbox.Option"})}let _t=_(Lt),Mt=_(Tt),Ut=_($t),zt=_(Ct),Bt=_(Ft),q=Object.assign(_t,{Button:Mt,Label:Ut,Options:zt,Option:Bt});function Kt({media:e,className:t}){return e.length?l.jsx("div",{className:`swimlane md:grid-flow-row hiddenScroll md:p-0 md:overflow-x-auto md:grid-cols-2 ${t}`,children:e.map((r,n)=>{const a=n===0,i=n===3,o=n%3===0,s=r.__typename==="MediaImage"?{...r.image,altText:r.alt||"Product image"}:null,d=[o?"md:col-span-2":"md:col-span-1",a||i?"":"md:aspect-[4/5]","aspect-square snap-center card-image bg-white dark:bg-contrast/10 w-mobileGallery md:w-full"].join(" ");return l.jsx("div",{className:d,children:s&&l.jsx(He,{loading:n===0?"eager":"lazy",data:s,aspectRatio:!a&&!i?"4/5":void 0,sizes:a||i?"(min-width: 48em) 60vw, 90vw":"(min-width: 48em) 30vw, 90vw",className:"object-cover w-full h-full aspect-square fadeIn"})},r.id||(s==null?void 0:s.id))})}):null}const un=({matches:e})=>_e(...e.map(t=>t.data.seo));function cn(){const{product:e,shop:t,recommended:r,variants:n,storeDomain:a}=De(),{media:i,title:o,vendor:s,descriptionHtml:d}=e,{shippingPolicy:c,refundPolicy:p}=t,x=ke(e.selectedOrFirstAvailableVariant,n);ht(x.selectedOptions);const j=gt({...e,selectedOrFirstAvailableVariant:x});return l.jsxs(l.Fragment,{children:[l.jsx(Ue,{className:"px-0 md:px-8 lg:px-12",children:l.jsxs("div",{className:"grid items-start md:gap-6 lg:gap-20 md:grid-cols-2 lg:grid-cols-3",children:[l.jsx(Kt,{media:i.nodes,className:"w-full lg:col-span-2"}),l.jsx("div",{className:"sticky md:-mb-nav md:top-nav md:-translate-y-nav md:h-screen md:pt-nav hiddenScroll md:overflow-y-scroll",children:l.jsxs("section",{className:"flex flex-col w-full max-w-xl gap-8 p-6 md:mx-auto md:max-w-sm md:px-0",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(be,{as:"h1",className:"whitespace-normal",children:o}),s&&l.jsx(W,{className:"opacity-50 font-medium",children:s})]}),l.jsx(Qt,{productOptions:j,selectedVariant:x,storeDomain:a}),l.jsxs("div",{className:"grid gap-4 py-4",children:[d&&l.jsx(ae,{title:"Product Details",content:d}),(c==null?void 0:c.body)&&l.jsx(ae,{title:"Shipping",content:pe(c.body),learnMore:`/policies/${c.handle}`}),(p==null?void 0:p.body)&&l.jsx(ae,{title:"Returns",content:pe(p.body),learnMore:`/policies/${p.handle}`})]})]})})]})}),l.jsx(f.Suspense,{fallback:l.jsx(Ke,{className:"h-32"}),children:l.jsx(Ce,{errorElement:"There was a problem loading related products",resolve:r,children:R=>l.jsx(Qe,{title:"Related Products",products:R})})}),l.jsx(Fe.ProductView,{data:{products:[{id:e.id,title:e.title,price:(x==null?void 0:x.price.amount)||"0",vendor:e.vendor,variantId:(x==null?void 0:x.id)||"",variantTitle:(x==null?void 0:x.title)||"",quantity:1}]}})]})}function Qt({productOptions:e,selectedVariant:t,storeDomain:r}){var o,s,d,c;const n=f.useRef(null),a=!(t!=null&&t.availableForSale),i=((o=t==null?void 0:t.price)==null?void 0:o.amount)&&((s=t==null?void 0:t.compareAtPrice)==null?void 0:s.amount)&&((d=t==null?void 0:t.price)==null?void 0:d.amount)<((c=t==null?void 0:t.compareAtPrice)==null?void 0:c.amount);return l.jsx("div",{className:"grid gap-10",children:l.jsxs("div",{className:"grid gap-4",children:[e.map((p,x)=>l.jsxs("div",{className:"product-options flex flex-col flex-wrap mb-4 gap-y-2 last:mb-0",children:[l.jsx(be,{as:"legend",size:"lead",className:"min-w-[4rem]",children:p.name}),l.jsx("div",{className:"flex flex-wrap items-baseline gap-4",children:p.optionValues.length>7?l.jsx("div",{className:"relative w-full",children:l.jsx(q,{children:({open:j})=>l.jsxs(l.Fragment,{children:[l.jsxs(q.Button,{ref:n,className:k("flex items-center justify-between w-full py-3 px-4 border border-primary",j?"rounded-b md:rounded-t md:rounded-b-none":"rounded"),children:[l.jsx("span",{children:t==null?void 0:t.selectedOptions[x].value}),l.jsx(Ge,{direction:j?"up":"down"})]}),l.jsx(q.Options,{className:k("border-primary bg-contrast absolute bottom-12 z-30 grid h-48 w-full overflow-y-scroll rounded-t border px-2 py-2 transition-[max-height] duration-150 sm:bottom-auto md:rounded-b md:rounded-t-none md:border-t-0 md:border-b",j?"max-h-48":"max-h-0"),children:p.optionValues.filter(R=>R.available).map(({isDifferentProduct:R,name:m,variantUriQuery:y,handle:b,selected:u})=>l.jsx(q.Option,{value:m,children:l.jsxs(ie,{...R?{}:{rel:"nofollow"},to:`/products/${b}?${y}`,preventScrollReset:!0,className:k("text-primary w-full p-2 transition rounded flex justify-start items-center text-left cursor-pointer",u&&"bg-primary/10"),onClick:()=>{n!=null&&n.current&&n.current.click()},children:[m,u&&l.jsx("span",{className:"ml-2",children:l.jsx(Xe,{})})]})},`option-${p.name}-${m}`))})]})})}):p.optionValues.map(({isDifferentProduct:j,name:R,variantUriQuery:m,handle:y,selected:b,available:u,swatch:O})=>l.jsx(ie,{...j?{}:{rel:"nofollow"},to:`/products/${y}?${m}`,preventScrollReset:!0,prefetch:"intent",replace:!0,className:k("leading-none py-1 border-b-[1.5px] cursor-pointer transition-all duration-200",b?"border-primary/50":"border-primary/0",u?"opacity-100":"opacity-50"),children:l.jsx(Ht,{swatch:O,name:R})},p.name+R))})]},p.name)),t&&l.jsxs("div",{className:"grid items-stretch gap-4",children:[a?l.jsx(ze,{variant:"secondary",disabled:!0,children:l.jsx(W,{children:"Sold out"})}):l.jsx(Be,{lines:[{merchandiseId:t.id,quantity:1}],variant:"primary","data-test":"add-to-cart",children:l.jsxs(W,{as:"span",className:"flex items-center justify-center gap-2",children:[l.jsx("span",{children:"Add to Cart"})," ",l.jsx("span",{children:"Â·"})," ",l.jsx(fe,{withoutTrailingZeros:!0,data:t==null?void 0:t.price,as:"span","data-test":"price"}),i&&l.jsx(fe,{withoutTrailingZeros:!0,data:t==null?void 0:t.compareAtPrice,as:"span",className:"opacity-50 strike"})]})}),!a&&l.jsx(Me,{width:"100%",variantIds:[t==null?void 0:t.id],storeDomain:r})]})]})})}function Ht({swatch:e,name:t}){var a,i;const r=(i=(a=e==null?void 0:e.image)==null?void 0:a.previewImage)==null?void 0:i.url,n=e==null?void 0:e.color;return!r&&!n?t:l.jsx("div",{"aria-label":t,className:"w-8 h-8",style:{backgroundColor:n||"transparent"},children:!!r&&l.jsx("img",{src:r,alt:t})})}function ae({title:e,content:t,learnMore:r}){return l.jsx(te,{as:"div",className:"grid w-full gap-2",children:({open:n})=>l.jsxs(l.Fragment,{children:[l.jsx(te.Button,{className:"text-left",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx(W,{size:"lead",as:"h4",children:e}),l.jsx(qe,{className:k("transition-transform transform-gpu duration-200",!n&&"rotate-[45deg]")})]})}),l.jsxs(te.Panel,{className:"pb-4 pt-2 grid gap-2",children:[l.jsx("div",{className:"prose dark:prose-invert",dangerouslySetInnerHTML:{__html:t}}),r&&l.jsx("div",{className:"",children:l.jsx(ie,{className:"pb-px border-b border-primary/30 text-primary/50",to:r,children:"Learn more"})})]})]})},e)}export{cn as default,un as meta};
